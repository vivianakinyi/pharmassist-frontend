<header id="head" class="secondary"></header>
<div class="container">

    <ol class="breadcrumb">
            <li><a ng-href="#/">Home</a></li>
            <li><a ng-href="#/pharmacy/{{pharmID}}">Pharmacy Details</a></li>
            <li class="active">Drugs</li>
    </ol>
    <article>
        <header class="page-header">
            <h3 class="page-title">{{pharm_name}}</h3>
        </header>
        <div class="panel panel-info">
          <div class="panel-heading">
            <h3 class="panel-title">Drug List</h3>
          </div>
          <div class="panel-body">
            <!-- Normal table -->
            <div>
                <table class="table table-striped custab">
                    <button class='btn btn-success btn-xs pull-right'
                    ng-click="addDrugs()">+ Add New Drugs</button>
                <br>
                <thead>
                    <tr>
                        <th>Drug ID</th>
                        <th>Drug</th>
                        <th>Price</th>
                        <th class="text-center">Action</th>
                    </tr>
                </thead>
                <tbody>

                </tbody>
                    <tr ng-repeat="drug in pharmDrugs" ng-include="getTemplate(drug)">
                    </tr>

                </table>
                <!-- To load different views for display or edit -->
                <script type="text/ng-template" id="display">
                        <td>{{drug.id}}</td>
                        <td>{{drug.display_name}}</td>
                        <td>{{drug.recommended_price}}</td>
                        <td class="text-center"><a class='btn btn-info btn-xs'
                        ng-click="editPrice(drug)"><span class="glyphicon glyphicon-edit"></span> Edit</a> <a href="#" class="btn btn-danger btn-xs" ng-click="delete(drug.id)"><span class="glyphicon glyphicon-remove"></span> Remove</a></td>
                </script>
                <script type="text/ng-template" id="edit">
                    <td>{{drug.id}}</td>
                    <td>{{drug.display_name}}</td>
                    <td><input type="text" ng-model=drug.recommended_price class="form-control input-xs"/></td>
                    <td class="text-center">
                        <a class='btn btn-info btn-xs'><span class="glyphicon glyphicon-save" ng-click="savePrice($index)">
                        </span>Save</a>
                        <a class="btn btn-danger btn-xs" ng-click="reset()">
                        <span class="glyphicon glyphicon-remove"></span> Cancel</a>
                    </td>
                </script>
            </div>
          </div>
        </div>
    </article>
</div>
